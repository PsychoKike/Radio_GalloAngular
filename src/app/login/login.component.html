<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow-lg p-3 mb-5 bg-body rounded" style="width: 22rem;">
    <div class="card-body">
      
      <div class="text-center mb-4">
        <h2 class="fw-bold text-primary">RadioGallo ğŸ“</h2>
        <p class="text-muted">Inicia sesiÃ³n para transmitir</p>
      </div>

      @if (errorMessage) {
        <div class="alert alert-danger p-2 text-center" role="alert">
          {{ errorMessage }}
        </div>
      }

      <form (ngSubmit)="onSubmit()">
        
        <div class="mb-3">
          <label for="username" class="form-label">Usuario</label>
          <input 
            type="text" 
            class="form-control" 
            id="username" 
            [(ngModel)]="credentials.username" 
            name="username" 
            placeholder="Ej: admin" 
            required>
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">ContraseÃ±a</label>
          <input 
            type="password" 
            class="form-control" 
            id="password" 
            [(ngModel)]="credentials.password" 
            name="password" 
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢" 
            required>
        </div>
        <re-captcha
          (resolved)="onCaptchaResolved($event)"
          siteKey="6LfKlyMsAAAAAIeaUBX2jtjpv1mwYMI9VH4QN2UN">
        </re-captcha>
        <!-- BotÃ³n con lÃ³gica @if / @else -->
        <div class="d-grid gap-2">
          <button type="submit" class="btn btn-primary" [disabled]="isLoading">
            
            @if (isLoading) {
              <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
              Entrando...
            } @else {
              Ingresar
            }

          </button>
        </div>

      </form>
    </div>
    
    <div class="card-footer text-center bg-white border-top-0 pb-4">
      
      <p class="mb-2 text-muted small">Â¿No tienes cuenta? RegÃ­strate como:</p>
      
      <div class="d-flex justify-content-center gap-2 mb-3">
  
        <a routerLink="/registro-Loc" [queryParams]="{ tipo: 'oyente' }" class="btn btn-outline-secondary btn-sm d-flex align-items-center gap-1">
          ğŸ§ Oyente
        </a>

        <a routerLink="/registro-Loc" [queryParams]="{ tipo: 'locutor' }" class="btn btn-outline-primary btn-sm d-flex align-items-center gap-1">
          ğŸ™ï¸ Locutor
        </a>

        <a routerLink="/login-admin" class="btn btn-dark btn-sm d-flex align-items-center gap-1">
          Administrador
        </a>

      </div>

      <small class="text-muted border-top pt-2 d-block w-75 mx-auto">
        Â© 2025 RadioGallo Systems
      </small>
    </div>
  </div>
</div>