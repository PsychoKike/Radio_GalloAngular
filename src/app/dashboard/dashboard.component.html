<div class="container py-4">
  <h2 class="mb-4 text-center">ğŸ›ï¸ Consola de Mezcla</h2>

  <div class="row g-4">
    
    <div class="col-md-6">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
          ğŸ™ï¸ MicrÃ³fono
        </div>
        <div class="card-body">
          <select class="form-select mb-3" [(ngModel)]="selectedMicId" (change)="onMicChange()">
             @for (device of availableMics; track device.deviceId) {
               <option [value]="device.deviceId">{{ device.label || 'Micro GenÃ©rico' }}</option>
             }
          </select>

          <label for="micRange" class="form-label fw-bold">Volumen Voz</label>
          <div class="d-flex align-items-center">
            <input type="range" 
                   class="form-range flex-grow-1" 
                   min="0" max="100" 
                   id="micRange"
                   [(ngModel)]="VozVol" 
                   (input)="updateMicVolume()"
                   [disabled]="!micActive">
            
            <output class="ms-3 fw-bold badge bg-secondary" style="width: 50px;">
              {{ VozVol }}%
            </output>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card shadow-sm">
        <div class="card-header bg-success text-white">
          ğŸµ MÃºsica (PestaÃ±a/Ventana)
        </div>
        <div class="card-body">
          <button class="btn btn-outline-success w-100 mb-3" (click)="openAppSelector()">
             {{ musicActive ? 'Fuente Seleccionada âœ…' : 'Seleccionar Audio...' }}
          </button>

          <label for="musicRange" class="form-label fw-bold">Volumen Fondo</label>
          <div class="d-flex align-items-center">
            <input type="range" 
                   class="form-range flex-grow-1" 
                   min="0" max="100" 
                   id="musicRange" 
                   [(ngModel)]="musiVol" 
                   (input)="updateMusicVolume()"
                   [disabled]="!musicActive">

            <output class="ms-3 fw-bold badge bg-secondary" style="width: 50px;">
              {{ musiVol }}%
            </output>
          </div>
        </div>
      </div>
    </div>

  </div> <div class="row mt-4">
    <div class="col-12">
      <button class="btn btn-lg w-100 py-3" 
              (click)="toggleTransmission()" 
              [class.btn-danger]="isTransmitting"
              [class.btn-dark]="!isTransmitting">
        {{ isTransmitting ? 'ğŸ”´ DETENER TRANSMISIÃ“N' : 'âšª INICIAR TRANSMISIÃ“N' }}
      </button>
    </div>
  </div>
</div>